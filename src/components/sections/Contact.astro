---
import GlobePicture from "../../assets/contact/globe-picture.astro";
---
<section class="fade-in min-h-[75vh] px-8 sm:px-[4rem] xl:px-24 py-[2rem] lg:py-[6rem] bg-black overflow-hidden" id="contact-us">
    <h1 class="max-[1620px]:text-center font-epilogue font-bold text-3xl sm:text-[3rem] lg:leading-[3.6rem] leading-9">
        Contact Us
    </h1>
    <div class="flex max-[1620px]:flex-col-reverse flex-wrap items-center justify-center max-[1620px]:justify-center min-[1620px]:justify-between">
        <form class="max-w-[540px] w-full my-10 lg:me-5" id="contact" action="">
            <div class="flex flex-col">
                <input type="text" name="email" id="email" placeholder="info@email.com"
                class="bg-black-400 text-base rounded mb-2 p-3 placeholder:text-white-300 max-lg:placeholder:text-base focus-within:outline-none">
                <span id="error-label" class="text-white-200 min-h-[24px]"></span>
            </div>
            <div class="flex flex-col mt-3">
                <textarea placeholder="Tell us what you need" name="message" 
                class="bg-black-400 text-base rounded mb-2 p-3 placeholder:text-white-300 max-lg:placeholder:text-base
                focus-within:outline-none resize-none min-h-[220px]"/>
            </div>
            <button type="submit" class="mt-6 flex items-center justify-center font-bold uppercase text-lg lg:text-2xl text-white 
            bg-gradient-to-r to-red-400 from-red-100 w-full py-3 tracking-[8px] rounded">
                Send Email
            </button>
        </form>
        <!-- w-full max-w-[520px]  -->
        <div class="flex flex-wrap lg:min-w-[54%] justify-center items-center max-[772px]:my-8 max-[1620px]:my-12">
            <div class="relative w-[420px] h-[420px] z-20"> <!-- w-full max-w-[520px] -->
                <GlobePicture />
            </div>
            <div class="relative w-full max-w-[540px] lg:max-w-[400px] lg:ms-8 max-lg:mt-14 z-30">
                <h2 class="font-bold text-[2rem] text-white font-epilogue">
                    Get in Touch
                </h2>
                <p class="text-white-200 font-rubik text-lg lg:text-xl">
                    Reach out to our team of experts to discuss your needs, explore solutions, and take the first step toward enhancing your brand's presence.
                </p>
            </div>
        </div>
    </div>
</section>

<script>
    const form = document.querySelector("form#contact");

    const input = document.querySelector("input#email");
    const error_label = document.querySelector("span#error-label")
    
    form.addEventListener('submit', (e) => {
            e.preventDefault();
            const { value } = input;
            const valid =  /[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$/g.test(value) && value !== '';
            if (valid) {
                
                console.log("what");
                // modal_content.classList.add('dissapearing')
            }else {
                error_label.textContent = 'Please enter a valid email.'
                input.focus();
                input.classList.add('invalid');
            }
        });
</script>